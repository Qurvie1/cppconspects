Granny
`virtual void f`, поле `g`
Mom Dad
m | d
Son
s

как будет выглядеть объект сына?
ptr (мамин поинтер), g, m, ptr (папин поинтер), g, d, s + выравнивание
40 байт.

Son s;

пусть у нас есть ссылка на отца и мы хотим сделать dynamic_cast к маме
м по сути в чём проблема - опять есть какая-то неоднозначность то есть в vtable нужно ещё хранить сдвиг
и когда мы хотим вызвать f от отца, то это то же самое, что вызвать f от сына со сдвигом

Допустим, теперь бабушка виртуальная 

Как теперь выглядит объект сына?

`ptr s, m, ..., ptr m, d, s, ptr g, g`

Что хранится у сына?
virtual offset, virtual top offset, typeinfo, адрес f

что хранится у отца?
то же самое, только thunk, а не адрес f, чтоб он сдвинул его в сына и от сына уже вызвал


[[5.7 Virtual problems]]
