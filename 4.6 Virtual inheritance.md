Granny
Mom Dad
Son

чтоб не было таких проблем
struct Mom: pulic virtual Granny {}
мы пишем Virtual перед каждой бабушкой, которую мы не хотим дублировать
и теперь всё однозначно работает! бабушка теперь одна

сколько байт будет занимать? 40 (но как)
мы в начале объекта храним указатель который указывает на место, где начинается бабушка, потом родителей, потом сын, потом бабушка
Тогда очевидно у нас не будет проблем с непонятностью к кому обращаться

В чём идея - у нас лежат перед объектами указатели на бабушку (на vtable)
ptr m, m, (выравнивание), ptr d, d, s, g

казалось бы, что для каждого объекта создаётся свой поинтер
на самом деле нет.
создаётся структура данных в статической памяти, в которой перечислены сдвиги относительно начала объектов до всех виртуальных предков

но вообще этот поинтер указывает на некий объект, который хранит сдвиги от бабушки
эта таблица называется vtable
1 виртуальный поинтер на тип 

как теперь работает статик каст?
ВНИЗ - не применим (то есть от родителя к наследникам), вверх - применим


[[5.1 Polymorphism and virtual functions]]
